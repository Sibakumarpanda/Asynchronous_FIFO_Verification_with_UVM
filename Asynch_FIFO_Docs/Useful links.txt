https://zipcpu.com/blog/2018/07/06/afifo.html